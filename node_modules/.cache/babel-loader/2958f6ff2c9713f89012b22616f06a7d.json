{"ast":null,"code":"import _slicedToArray from\"/Users/tanmay/Downloads/personal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";export var WorkPageId=\"page-work\";export var AboutPageId=\"page-about\";export var Page;(function(Page){Page[\"Work\"]=\"work\";Page[\"About\"]=\"about\";})(Page||(Page={}));var pageIds=[WorkPageId,AboutPageId];export var useScroll=function useScroll(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var scrollHandler=function scrollHandler(){var _document$scrollingEl;var documentTop=(_document$scrollingEl=document.scrollingElement)===null||_document$scrollingEl===void 0?void 0:_document$scrollingEl.scrollTop;var pages=pageIds.map(function(page){return document.getElementById(page);});var newPage=\"\";pages.forEach(function(page){if(page){var top=page.offsetTop;var height=page.clientHeight;if(top<documentTop&&top+height>documentTop){newPage=page.id;}}});setPage(newPage);};useEffect(function(){setTimeout(function(){scrollHandler();},100);document.addEventListener(\"scroll\",scrollHandler);return function(){document.removeEventListener(\"scroll\",function(){});};},[]);return page;};","map":{"version":3,"sources":["/Users/tanmay/Downloads/personal/src/utils/useScroll.ts"],"names":["useEffect","useState","WorkPageId","AboutPageId","Page","pageIds","useScroll","page","setPage","scrollHandler","documentTop","document","scrollingElement","scrollTop","pages","map","getElementById","newPage","forEach","top","offsetTop","height","clientHeight","id","setTimeout","addEventListener","removeEventListener"],"mappings":"sHAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,WAAnB,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG,YAApB,CAEP,UAAYC,CAAAA,IAAZ,C,UAAYA,I,EAAAA,I,gBAAAA,I,qBAAAA,I,GAAAA,I,MAKZ,GAAMC,CAAAA,OAAO,CAAG,CAACH,UAAD,CAAaC,WAAb,CAAhB,CAEA,MAAO,IAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC3B,cAAwBL,QAAQ,CAAS,EAAT,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,2BACxB,GAAMC,CAAAA,WAAW,wBAAGC,QAAQ,CAACC,gBAAZ,gDAAG,sBAA2BC,SAA/C,CACA,GAAMC,CAAAA,KAAK,CAAGT,OAAO,CAACU,GAAR,CAAY,SAACR,IAAD,QAAUI,CAAAA,QAAQ,CAACK,cAAT,CAAwBT,IAAxB,CAAV,EAAZ,CAAd,CACA,GAAIU,CAAAA,OAAO,CAAG,EAAd,CAEAH,KAAK,CAACI,OAAN,CAAc,SAACX,IAAD,CAAU,CACpB,GAAIA,IAAJ,CAAU,CACN,GAAMY,CAAAA,GAAG,CAAGZ,IAAI,CAACa,SAAjB,CACA,GAAMC,CAAAA,MAAM,CAAGd,IAAI,CAACe,YAApB,CAEA,GAAIH,GAAG,CAAGT,WAAN,EAAqBS,GAAG,CAAGE,MAAN,CAAeX,WAAxC,CAAqD,CACjDO,OAAO,CAAGV,IAAI,CAACgB,EAAf,CACH,CACJ,CACJ,CATD,EAWAf,OAAO,CAACS,OAAD,CAAP,CACH,CAjBD,CAmBAjB,SAAS,CAAC,UAAM,CACZwB,UAAU,CAAC,UAAM,CACbf,aAAa,GAChB,CAFS,CAEP,GAFO,CAAV,CAIAE,QAAQ,CAACc,gBAAT,CAA0B,QAA1B,CAAoChB,aAApC,EAEA,MAAO,WAAM,CACTE,QAAQ,CAACe,mBAAT,CAA6B,QAA7B,CAAuC,UAAM,CAAE,CAA/C,EACH,CAFD,CAGH,CAVQ,CAUN,EAVM,CAAT,CAYA,MAAOnB,CAAAA,IAAP,CACH,CAnCM","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport const WorkPageId = \"page-work\";\nexport const AboutPageId = \"page-about\";\n\nexport enum Page {\n    Work = \"work\",\n    About = \"about\",\n}\n\nconst pageIds = [WorkPageId, AboutPageId];\n\nexport const useScroll = () => {\n    const [page, setPage] = useState<string>(\"\");\n\n    const scrollHandler = () => {\n        const documentTop = document.scrollingElement?.scrollTop!;\n        const pages = pageIds.map((page) => document.getElementById(page));\n        let newPage = \"\";\n\n        pages.forEach((page) => {\n            if (page) {\n                const top = page.offsetTop;\n                const height = page.clientHeight;\n\n                if (top < documentTop && top + height > documentTop) {\n                    newPage = page.id;\n                }\n            }\n        });\n\n        setPage(newPage);\n    };\n\n    useEffect(() => {\n        setTimeout(() => {\n            scrollHandler();\n        }, 100);\n\n        document.addEventListener(\"scroll\", scrollHandler);\n\n        return () => {\n            document.removeEventListener(\"scroll\", () => {});\n        };\n    }, []);\n\n    return page;\n};\n"]},"metadata":{},"sourceType":"module"}